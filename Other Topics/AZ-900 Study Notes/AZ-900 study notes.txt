=====
AZURE
=====

General note: The Azure portal can be viewed on any browser and hence can be viewed on almost any operating system. The Azure CLI is available on all platforms.

Note: look up AZ-900 in quizlet
	https://quizlet.com/search?query=az%252D900&type=sets
Note: requires a free account to look at more than 9 questions in a row.
Note: requires a PREMIUM account when you reach a certain number of questions.

"Bij deze onze lijst met flash cards gecombineerd met een lijst die al binnen quizlet beschikbaar was. Ik zal nog even valideren dat de lijst compleet genoeg is."
	https://quizlet.com/nl/733188061/az-900-flash-cards/?i=4pp7t2&x=1jqA

---------------------
Azure Cloud concepts

IaaS use cases:
-temporary high performance computing.
-testing an application during release.
(current state of the OS is always known to you - cloud provider is not going to install/change anything.)
-only pay for resources in use, keeping configuration in the cloud but stopping the VM when you don't need it.
-you get to choose when the VM is updated.
note: requires you to update your own OS, close your own ports and generally protect your own server.

PaaS use cases:
-when quickly moving on-premises applications to the cloud, with flexible deployment options for your applications.
-need to run a web app that needs a specific framework running (such as PHP) and you don't want to manage and configure this on the VM.
-don't have to worry about docker installation or configuration as it's included on all App Service VMs by default.
-backing up and restoring data tend to be more user-friendly and feature-rich in PaaS, because of custom software already installed by the cloud provider.

PaaS example services:
	Azure CDN
	Azure Cosmos DB
	Azure SQL Database
	Azure Database for MySQL
	Azure Storage
	Azure Synapse Analytics

SaaS use cases:
-ready-to-go software that works from just about any device
-cloud provider takes care of availability, backups and patches
-you don't have to know anything about the software internals or about the patches

Use case examples for cloud models:
Public cloud model: easy and fast to move to the cloud.
Private cloud model: transparency/security concerns, privacy and regulatory concerns.
Hybrid cloud model: keeping sensitive data on-premises while still benefitting from applications running in the public cloud.
Community cloud model: hospitals sharing medical data.

General terms:
-Regions are geological locations with one or more Availability Zones where one or more data centers, which house Azure servers, are located.

-Resource groups are required groupings for your Azure VMs. All the resources in your resource group should share the same lifecycle. You deploy, update and delete them together. Each resource can only exist in one resource group. You cannot have a resource group within another resource group.

-Subscriptions contain one or more resource groups.

-Management Groups are folders that can contain one or more Subscriptions, or more Management Groups.

-Containers are packages of software that contain all of the necessary elements to run in any environment. Containers only emulate operating systems, not the whole machine, making them smaller than Virtual Machines.

-An Availability set protects you from maintenance events and downtime caused by hardware failures. It involves using fault domains and update domains and requires deploying at least two VMs.

-Update Domains protect you from planned maintenance events. 
-Fault Domains protect from unplanned updates and unexpected downtime. By default, Azure assigns two Fault Domains to an availability set.

An availability set should not be confused with an availability zone. The latter means multiple servers in distinct data centers in a region with a 99.99 availability SLA, and the former means multiple racks in a datacenter with a 99.95 availability SLA.

An availability set has the disadvantage of requiring you to set up a load balancer in front of the VMs for handling traffic. Other disadvantages include having to explicitly set up new machines, and having to configure them.

-A scale set solves some of the disadvantages of an availability set. It provides options for creating a load balancer or gateway, and allows you to pick the operating system and how many VMs you need. Azure will create as many VMs as you want, up to 1000, in one step.

Scale sets are deployed in availability sets automatically, so you immediately benefit from multiple fault domains and update domains. Unlike VMs in an availability set, VMs in a scale set are also compatible with availability zones, so you will be protected from problems in an Azure datacenter.

Scale sets come with an auto-scale feature, which will automatically start new VMs to handle rising pressure or scale back and deallocate instances. This will provide you with elasticity.

-The initial Domain Name for a new Azure AD "tenant" cannot be changed and cannot be deleted. You can only add custom domain names for your business.

-SKU stands for Stock Keeping Unit, used to refer to Virtual Machine SKUs in Azure. SKUs represent different, distinct shapes of purchasable products (specific VMs). These can be compared in terms of performance and costs.

---------------------
Azure Storage concepts

azure storage services: 
blob storage - unstructured data like files and documents
file storage - supports SMB protocol and can be attached to network drives
disk storage - stores the VM disks as used by IaaS VMs
table storage - store (semi-)structered data in the form of NoSQL non-relational data
queue storage - store/retrieve messages for async applications that pass messages

account types:
general purpose v2 - blobs (binary large object), files, tables, queues - most redundancy options
premium block blob - best for high transaction rates or low storage latency
premium file share - best for enterprise/high performance applications that need to scale
premium page blob - larger blobs - best for random read and write operations
note: all premium account types use solid state drives.
note: you can't change the storage account type after it's been created.

categories of redundancy options:

-Redundancy in primary region - LRS and ZRS
-Redundancy in a secondary region - GRS or GZRS
-Read access to the secondary region when using GRS or GZRS (normally not available until a failover)

data redundancy options:

-LRS - Locally-redundant storage - the cheapest option - protection against server-rack and drive failures
-ZRS - Zone-redundant storage - recommended for high availability - protection against datacenter-level failures
-GRS - Geo-redundant storage - recommended for backups - failover capabilities in a secondary region (works even if the entire primary region is harmed by a regional disaster). you cannot choose the secondary region as this is decided by microsoft. paired regions are listed online.
-GZRS - Geo-zone-redundant storage - offers the protection of both GRS and ZRS.

Blob access tiers:

hot tier - lowest data access cost, highest storage cost
cool tier - low storage cost, higher data access cost
archive tier - lowest storage cost, highest data retrieval cost

you can move data between access tiers via the feature known as Blob Lifecycle Management, setting policies for moving between tiers, because aged data is less likely to see frequent data access and should be treated accordingly.

Blob types: 
block blob - composed of blocks so that it is optimized for uploading - most cost-effective way to store a large number of files
append blob - can only append blocks - optimized for appending data which is ideal for logs
page blob - made for frequent random read/write - used to store disks for virtual machines and databases

Data Transfer Options

data transfer considerations: amount of data, frequency of data transfer, available network bandwidth

online options for data transfer:
Azure Portal - as seen in the videos etc.
Azure Storage Explorer - with easy GUI similar to File Explorer, so tasks can be delegated to business users. uses AzCopy behind the scenes.
AzCopy - command line tool that can be used to upload and manage data, and can be used to change access tiers from hot to cool etc.
PowerShell
Azure CLI
Storage Client Libraries (SDKs)
Azure File Sync - to extend on-premises data to Azure. frequently accessed data is kept on premises and less-frequently used data is automatically stored on Azure.

Azure Migrate

- can assess your on-premises and virtual servers for migration compatibility
- can assess on-premises SQL Server instances - can then migrate to SQL running on a VM, to an Azure SQL Database, or an Azure SQL Managed Instance
- can assess web applications running on-premises and then migrate them to run on Azure App service or Azure Kubernetes service (an orchestration service for containers).
- can also assess your on-premises virtual machine infrastructure and then migrate that to Azure Virtual Desktop
- with the Data Box service, you can migrate a large amount of unstructered data, offline, by renting a device

Azure Migrate tools:
- Discovery and Assessment Tool - assess migration readiness - estimate size and cost of Azure servers - identify dependencies - virtual appliance is installed locally to do the assessment
- Server Migration Tool - actually replicates the servers to Azure - replication app is installed locally, mobility service agent is installed on the server - incremental updates after initial migration

for migrating on-premises SQL Server databases:
- Data Migration Assistant - detects compatibility issues with the cloud - recommends improvements
- Azure Database Migration Service - for large database migrations 
--- both of the db tools above can target SQL servers in VMs, Azure SQL Database, or Azure SQL Managed Instances

---------------------
Azure Management & Monitoring concepts

- Azure Resource Manager (ARM) is central to all of Azure Management. When using Azure Portal, you're really just using a website that is sending requests to the right ARM endpoint. ARM handles authentication via Azure Active Directory (Azure AD), and then sends a request on to the Azure Service that you want to create or manipulate.
- You can also interact with ARM via the Azure CloudShell which includes Azure Powershell and Azure CLI.
- There is also an Azure Mobile App to create/manage resources and receive alerts via ARM.
- Azure SDKs allow you to call ARM endpoints, so you can turn Azure management into a custom solution.

Azure Resource Manager templates allow you to create resources in a repeatable way, via the command line.

Azure Service Health keeps you informed about the health of your cloud resources. This includes information about current and upcoming issues such as outages and planned maintenance.

This is divided up into three parts:
- Azure Status - Service outages across all of Azure
- Service Health - Service health of services and regions that you actually use. Includes planned maintenance, Health Advisories and Security Advisories. In the menu blade Service issues you can add resource health alerts.
- Resource Health - Health of specific resources

Azure Monitor 
Monitor is a service that collects metrics and logs from the resources in your subscription. You can use it to check the performance and availability of your apps and services. Azure Monitor comes with Metrics Explorer and Log Analytics. Also included in Monitor is the service called Application Insights, which monitors the availability, usage and performance of your web apps. For even deeper monitoring you can use the Application Insights SDK from inside your code.

Azure Monitor is turned on and collects metrics from Azure services by default. 

You can collect data from virtual machines running outside of Azure by installing agents.

Log Analytics has pre-built queries for different purposes, such as alerts, performance, and audit logs for Azure AD. You can send metrics to Log Analytics so they can be queried like other logs.

The "Insights" menu section in Azure Monitor refers to curated visualizations for specific services. Application Insights is for your web applications, Network insights is for your deployed network resources, etc.

You can send logs to a storage account and specify retention (an expiration date), or you can send logs to a third-party tool.

Metrics is very lightweight because it only stores numeric data, and so can support near real-time scenarios. This makes it useful for alerts and fast detection of problems. However, Metrics can only store data in a particular structure. Azure Monitor Logs, on the other hand, can store various data types and can support a more complex analysis via log queries.

Azure Monitor Logs stores the data that it collects in one or more Log Analytics workspaces. You must create at least one workspace to use Azure Monitor Logs.

After you create a Log Analytics workspace, you need to add and configure data sources. No data is collected automatically. The configuration will be different depending on the data source. 

Data collection in Logs will incur ingestion and retention costs. Before enabling data collection, users should refer to Azure Monitor pricing.

Azure Advisor 
This is a "personalized cloud consultant" and a tool that can make recommendations on how to improve performance, availability, security and on how to save costs. Includes Azure Advisor Security Assistance, which integrates with Azure Security Center, to provide best practice security recommendations.

Azure Arc 
Arc can allow you to manage resources hosted outside of Azure (on-premises or in other cloud providers). This allows for consistent management and security across your environment. For instance, you can manage servers, Kubernetes clusters, Azure data services (running on-premises or in the public cloud) and SQL Server instances all hosted outside of Azure.

Benefits of Arc include features of ARM including: organizing resources with groups and tags, searching and indexing with Azure Resource Graph, security and access through role-based access control and subscriptions, automation and update management.

Azure Arc - Server Management
With Arc, you can (among other things) monitor managed servers for threats (with Microsoft Defender) and security related events (with Microsoft Sentinel). You can apply Azure policies, and you can collect logs with the Log Analytics agent (not installed by default).

---------------------
Azure Security and Privacy Concepts

Includes: 
Azure identity services - Azure AD
Access control - role-based access control (RBAC)
Azure governance - Azure policies and blueprints
Securing networks - network security groups, firewalls and routing
Reporting and Compliance - standards, data protection and monitoring

In Azure, authentication is provided by Azure AD and authorization is provided by role-based access control.

Azure AD is for single sign-on (SSO) and application integration - it does not have all the features of Active Directory Domain Services. If you want that, then you need Azure AD Domain Services (Azure AD DS), which is a PaaS offering by Azure but it still does not offer all the same features and cannot (yet) be used to replace on-premises ADDS. Use Azure AD Connect to replicate objects from ADDS.

Role-based access control (RBAC)
Three most commonly used, built-in roles for working with resources are: 
-Owner - can manage everything about the resource
-Contributor - can do everything except grant other users access to resources
-Reader - read-only access 

You should start with using built-in roles, create custom roles only when needed, and always stick with the Least Privilege Principle where users have just enough access privileges to do their jobs and no more than that.

Locks
The use of a lock can prevent the deletion or modification of a resource group and its content. The two types of locks are "Read-only" and "Delete" where in the former case no resources can be added or removed, while in the latter case you can still add new resources to the resource group - you just can't delete them.

You can use governance tools to ensure:
-Security standards - security requirements for cloud deployments.
-Technical standards - standard sizes, builds and configurations.

Azure Tags
Security requirements (and cost control, and deployments) can also be enforced with Azure Tags.

Azure Policy
A policy is a collection of rules. Each policy is assigned to a scope such as a subscription. You can make sure resources will remain compliant with corporate standards. Policies involve definitions, assignments and parameters. Built-in policies exist for storage accounts, resource types and allowed locations. You can also enforce the use of certain tags or even certain VM SKUs (Stock Keeping Unit). One built-in policy is called "Allowed virtual machine size SKUs" which limits what sort of SKUs can be deployed. In script form, a policy has a number of if/then statements.

Azure Initiative
An initiative is a collection of policies. Initiatives can be assigned to a scope such as a management group. As seen with policies, initiatives involve definitions, assignments and parameters.

Azure Blueprints
A way of orchestrating deployment of resource templates and artifacts. Blueprints are special in that they maintain a relationship with the resources that they have deployed. This is very different from using a resource template. Changing a resource template has no effect on resources that have already been deployed with said template. A change to a Blueprint CAN affect deployed resources.

Blueprints include policies and initiatives as well as artifacts such as roles.

Using blueprints involves: 
-Blueprint definition - includes details of resource groups, resource manager templates included for deployment, policies included, roles assigned to resources that the Blueprint has created.
-Blueprint publishing - with a version number and change notes. when you change the Blueprint and save the draft you then publish it under a new version number.
-Blueprint assignment - assign to a scope - select location, version number and other parameters.

Basic security principle: plan your security with defense-in-depth, meaning with multiple layers.

Network Security Groups (NSGs)
-NSGs filter traffic - allow or deny inbound and outbound traffic with inbound/outbound lists. 
-NSGs contain rules ordered by priority. 
-Attached to subnets or network cards.
-Each NSG can be linked to multiple resources.
-NSGs are stateful (when inbound traffic is allowed, return traffic will be allowed outbound)
-NSG properties include: name, priority, source or destination, protocol (TCP, UDP), direction (inbound/outbound), port range, action (allow/deny).

Application Security Groups - make sure NSGs are configured once and do not need to be readjusted every time a set of servers is added.
-they do not replace NSGs - they enhance them.
-allow you to reference a group of resources
-used as a source or destination in NSG
-create the application security group, link it to resources, and then use this group when working with NSGs.



----------------------------------------

sample exam questions

Q: Does MS provide a separate portal for Azure portal specific previews? 
A: Yes.

Q: A company wants to store data that is infrequently used. It needs to be accessed via Power BI. What could be a cost-effective data layer for this requirement?
Options: Azure SQL db, Azure PostgreSQL, Azure Cosmos DB, Azure Data Lake
Answer: Option D: Azure Data Lake. The other options should be used for frequently accessed data.

Q: A company needs 50 custom VMs. 20 are windows-based and 30 are ubuntu. Which option would reduce administrative effort?
Options: Azure Load Balancer, Azure Web Apps, Azure Traffic Manager, Azure Scalesets.
Answer: Option D: Azure ScaleSets. the other options are incorrect because Load Balancer is for diverting traffic to back-end VMs at the network layer, Web Apps is for hosting web apps, and Traffic Manager is used for DNS-based traffic routing.

Q: A company wants to enforce Multi-factor authentication for users entering Azure. Which option lets them do this?
Options: Azure Service Trust Portal, Azure Security Centre, Azure DDoS Protection, Azure privileged identity management
Answer: Options D: Azure privileged identity management. Trust portal is for information on compliance with data protection standards and regulatons. Security Centre is a unified infrastructure security management system in Azure.

Q: A company wants to host 2 VMs in Azure. When the VM is stopped, do you still incur costs for the storage attached to the VM?
A: Yes. Turning the VM off only helps to avoid storage transaction costs. The disk(s) will also incur monthly costs.

Q: Can you create VMs in Azure if you run a powershell script on a Linux machine, with Azure CLI tools installed?
A: No. You also need Powershell Core installed to run powershell scripts on Linux.

Q: A company is planning to host resources in Azure. They want to ensure Azure complies with the rules and regulations in the region. Which option can assist the company in getting the required compliance reports?
Options: Azure AD, Microsoft Trust Center, Azure Advisor, Azure Security Centre
Answer: Option B: Microsoft Trust Center. Azure AD is for identity management. Azure Advisor is for recommendations in Azure.

Q: The company has just deployed a VM and needs to know if it is having any issues. Which option will let you view such issues?
Options: Azure Advisor, Azure AD, A Virtual Machine menu blade, Azure Monitor
Answer: The VM menu blade called resource health will show the most specific information for the VM. Azure Monitor is for showing the health of your entire Azure infrastructure (although Monitor's Metrics Explorer can show individual resources).

Q: What feature of a system makes it elastic?
Options: Self-healing after a crash, withstanding DDoS attacks, staying available while updates are being made to the system, increasing and reducing capacity based on actual demand.
Answer: Option D: Increasing and reducing capacity based on actual demand.
